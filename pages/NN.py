import streamlit as st
from questions_json import codeblock

def page_NN():
    st.header("2. Hidden Layer")

    st.markdown(r"""é¦–å…ˆæˆ‘ä»¬æ¥å­¦ä¹ inputå±‚å’Œhiddenå±‚è¿æ¥çš„å‡ ä¸ªå‚æ•°ï¼š
    
    1. $æƒé‡çŸ©é˜µ ğ‘Š $: $W_{ij} $è¡¨ç¤ºä»è¾“å…¥å±‚ç¬¬$ j $ä¸ªèŠ‚ç‚¹åˆ°éšè—å±‚ç¬¬$ i $ä¸ªèŠ‚ç‚¹çš„è¿æ¥æƒé‡
    
    ä»è¾“å…¥èŠ‚ç‚¹ä¸éšè—å±‚èŠ‚ç‚¹ä¹‹é—´æœ‰ä¸€ä¸ªæƒé‡è¿æ¥ Wï¼Œå…¶ç»´åº¦ä¸º mÃ—nï¼Œå…¶ä¸­ m æ˜¯éšè—å±‚èŠ‚ç‚¹çš„æ•°é‡ï¼Œn æ˜¯è¾“å…¥å±‚èŠ‚ç‚¹çš„æ•°é‡ã€‚
    
    2. $ åç½®å‘é‡ b $ : $b_i$ è¡¨ç¤ºè®¡ç®—éšè—å±‚ç¬¬$ i $ ä¸ªèŠ‚ç‚¹çš„åŠ æƒå’Œ$ z_i $æ—¶æ·»åŠ çš„åç½®å€¼
    
    æ¯ä¸ªéšè—å±‚èŠ‚ç‚¹æœ‰ä¸€ä¸ªå¯¹åº”çš„åç½®å€¼ bï¼Œåç½®å€¼æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ç»´åº¦ä¸º mï¼Œä¸éšè—å±‚èŠ‚ç‚¹çš„æ•°é‡ç›¸åŒã€‚
    
    3. $ åŠ æƒå’Œz $ : å¯¹äºç¬¬ $ i $ä¸ªèŠ‚ç‚¹ï¼ŒåŠ æƒå’Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š
    
    $ z_i = \sum_{j=1}^{n} W_{ij} x_j + b_i$
    
    4. $ æ¿€æ´»å‡½æ•°f $: å°†åŠ æƒå’Œé€šè¿‡æ¿€æ´»å‡½æ•°å˜æ¢å¾—åˆ°éšè—å±‚è¾“å‡º$ a_i $ï¼Œä»¥å¼•å…¥éçº¿æ€§ã€‚å¸¸è§çš„æ¿€æ´»å‡½æ•°åŒ…æ‹¬ Sigmoidã€ReLU å’Œ Tanh ç­‰ã€‚
    
    $ReLU:a_i = \text{ReLU}(z_i) = \max(0, z_i) $
    
    $Tanh: \tanh(z) = \frac{e^z - e^{-z}} {e^z + e^{-z}} $
    
    $ Sigmoid: \sigma(z) = \frac{1}{1 + e^{-z}} $
     
     """)

    st.text("A = f(WX+bw) è¿‡ç¨‹ ")

    st.divider()

    codeblock.set_codeblock("2")

    st.diverder()

    st.subheader("å‰å‘ç®—æ³•")

    st.text("å‰å‘ç®—æ³•åŸç†ï¼šz=ï¼Œa= ç­‰å¾…è¡¥å……;thetaæ„ä¹‰")

    st.divider()

    st.text("quiz3 -- å‰å‘ä¼ æ’­")

    st.divider()

    st.header("åå‘ä¼ æ’­--è°ƒæ•´å‚æ•°W")

    st.markdown('''å‰é¢æˆ‘ä»¬å·²ç»è¯´åˆ°æƒé‡å‚æ•°Wå’Œåç½®å€¼bæ˜¯å½±å“æ¨¡å‹çš„æ€§èƒ½å…³é”®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç¡®å®šä»–ä»¬çš„å€¼å‘¢ï¼Ÿ
    è¿™å°±ç”¨åˆ°åå‘ä¼ æ’­çš„ç®—æ³•è°ƒæ•´äº†
    
    ç¡®å®šåˆå§‹å‚æ•° ->å¾—åˆ°è¾“å‡º -> è®¡ç®—æŸå¤± -> åå‘è°ƒæ•´å‚æ•° -> é‡å¤è¿­ä»£''')

    if st.button("ä¸‹ä¸€é¡µ"):
        return "page3"


